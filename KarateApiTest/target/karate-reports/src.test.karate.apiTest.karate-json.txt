{"failedCount":0,"prefixedPath":"src\/test\/karate\/apiTest.feature","packageQualifiedName":"src.test.karate.apiTest","loopIndex":-1,"relativePath":"src\/test\/karate\/apiTest.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":140633500,"startTime":1743951776992,"endTime":1743951777133,"millis":140.6335,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:3000'"}},{"result":{"nanos":3437800,"startTime":1743951777138,"endTime":1743951777141,"millis":3.4378,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":2809900,"startTime":1743951777142,"endTime":1743951777145,"millis":2.8099,"status":"passed"},"step":{"line":9,"prefix":"Given","index":0,"text":"path 'apis'"}},{"result":{"nanos":63055600,"startTime":1743951777146,"endTime":1743951777209,"millis":63.0556,"status":"passed"},"step":{"endLine":22,"line":10,"prefix":"And","docString":"{\n  \"nombre\": \"API de Clima\",\n  \"descripcion\": \"Consulta de clima actual\",\n  \"endpoint\": \"\/clima\",\n  \"metodo\": \"GET\",\n  \"url\": \"https:\/\/api.weatherapi.com\/v1\/current.json\",\n  \"parametros\": { \"key\": \"demo\", \"q\": \"Medellin\" },\n  \"headers\": { \"Content-Type\": \"application\/json\" },\n  \"auth\": null\n}","index":1,"text":"request"}},{"result":{"nanos":1774524800,"startTime":1743951777210,"endTime":1743951778985,"millis":1774.5248,"status":"passed"},"step":{"line":23,"prefix":"When","index":2,"text":"method POST"},"stepLog":"10:02:58.166 request:\n1 > POST http:\/\/localhost:3000\/apis\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 259\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.2)\n1 > Accept-Encoding: gzip,deflate\n{\"nombre\":\"API de Clima\",\"descripcion\":\"Consulta de clima actual\",\"endpoint\":\"\\\/clima\",\"metodo\":\"GET\",\"url\":\"https:\\\/\\\/api.weatherapi.com\\\/v1\\\/current.json\",\"parametros\":{\"key\":\"demo\",\"q\":\"Medellin\"},\"headers\":{\"Content-Type\":\"application\\\/json\"},\"auth\":null}\n\n10:02:58.976 response time in milliseconds: 804\n1 < 200\n1 < access-control-allow-origin: http:\/\/localhost:5173\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 380\n1 < Date: Sun, 06 Apr 2025 15:02:58 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=72\n{\"id\":\"844933d1-fd50-4fd2-844a-331d812a2713\",\"nombre\":\"API de Clima\",\"descripcion\":\"Consulta de clima actual\",\"endpoint\":\"\/clima\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Medellin\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":null,\"creado_en\":\"2025-04-06T15:02:58.639Z\",\"actualizado_en\":\"2025-04-06T15:02:58.639Z\"}\n\n"},{"result":{"nanos":7212400,"startTime":1743951778987,"endTime":1743951778994,"millis":7.2124,"status":"passed"},"step":{"line":24,"prefix":"Then","index":3,"text":"status 200  # Tu servidor devuelve 200 en lugar de 201"}},{"result":{"nanos":338666500,"startTime":1743951778995,"endTime":1743951779334,"millis":338.6665,"status":"passed"},"step":{"line":25,"prefix":"And","index":4,"text":"match response == { id: '#uuid', nombre: 'API de Clima', descripcion: 'Consulta de clima actual', endpoint: '\/clima', metodo: 'GET', url: 'https:\/\/api.weatherapi.com\/v1\/current.json', parametros: { key: 'demo', q: 'Medellin' }, headers: { 'Content-Type': 'application\/json' }, auth: '#null', creado_en: '#string', actualizado_en: '#string' }"}},{"result":{"nanos":30120400,"startTime":1743951779334,"endTime":1743951779364,"millis":30.1204,"status":"passed"},"step":{"line":26,"prefix":"*","index":5,"text":"def apiId = response.id"}}],"executorName":"main","line":8,"name":"Crear una API con datos válidos","description":"","durationMillis":2360.4609,"startTime":1743951776966,"failed":false,"refId":"[1:8]","endTime":1743951779363,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":1770000,"startTime":1743951779383,"endTime":1743951779385,"millis":1.77,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:3000'"}},{"result":{"nanos":1781700,"startTime":1743951779385,"endTime":1743951779387,"millis":1.7817,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":982700,"startTime":1743951779387,"endTime":1743951779388,"millis":0.9827,"status":"passed"},"step":{"line":29,"prefix":"Given","index":0,"text":"path 'apis'"}},{"result":{"nanos":2336600,"startTime":1743951779389,"endTime":1743951779391,"millis":2.3366,"status":"passed"},"step":{"line":30,"prefix":"And","index":1,"text":"request { \"endpoint\": \"\/invalid\", \"metodo\": \"GET\" }"}},{"result":{"nanos":220006300,"startTime":1743951779391,"endTime":1743951779611,"millis":220.0063,"status":"passed"},"step":{"line":31,"prefix":"When","index":2,"text":"method POST"},"stepLog":"10:02:59.397 request:\n1 > POST http:\/\/localhost:3000\/apis\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.2)\n1 > Accept-Encoding: gzip,deflate\n{\"endpoint\":\"\\\/invalid\",\"metodo\":\"GET\"}\n\n10:02:59.608 response time in milliseconds: 190\n1 < 500\n1 < access-control-allow-origin: http:\/\/localhost:5173\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 551\n1 < Date: Sun, 06 Apr 2025 15:02:59 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=72\n{\"statusCode\":500,\"error\":\"Internal Server Error\",\"message\":\"\\nInvalid `prisma.apis.create()` invocation in\\nC:\\\\Users\\\\juans\\\\OneDrive\\\\Escritorio\\\\Proyectos\\\\ParcialPruebas\\\\backend\\\\index.ts:30:33\\n\\n  27 \/\/ Crear una API\\n  28 fastify.post<{ Body: ApiBody }>('\/apis', async (request, reply) => {\\n  29   const data = request.body;\\n→ 30   const api = await prisma.apis.create({\\n         data: {\\n           endpoint: \\\"\/invalid\\\",\\n           metodo: \\\"GET\\\",\\n       +   nombre: String\\n         }\\n       })\\n\\nArgument `nombre` is missing.\"}\n\n"},{"result":{"nanos":32000,"startTime":1743951779611,"endTime":1743951779611,"millis":0.032,"status":"passed"},"step":{"line":32,"prefix":"Then","index":3,"text":"status 500  # Prisma devuelve 500 por validación"}},{"result":{"nanos":3812400,"startTime":1743951779611,"endTime":1743951779615,"millis":3.8124,"status":"passed"},"step":{"line":33,"prefix":"And","index":4,"text":"match response.error == 'Internal Server Error'"}},{"result":{"nanos":2019300,"startTime":1743951779616,"endTime":1743951779618,"millis":2.0193,"status":"passed"},"step":{"line":34,"prefix":"And","index":5,"text":"match response.message contains 'Argument `nombre` is missing'"}}],"executorName":"main","line":28,"name":"Crear una API sin campos obligatorios","description":"","durationMillis":232.741,"startTime":1743951779383,"failed":false,"refId":"[2:28]","endTime":1743951779618,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":455900,"startTime":1743951779632,"endTime":1743951779632,"millis":0.4559,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:3000'"}},{"result":{"nanos":263700,"startTime":1743951779632,"endTime":1743951779632,"millis":0.2637,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":169100,"startTime":1743951779633,"endTime":1743951779633,"millis":0.1691,"status":"passed"},"step":{"line":37,"prefix":"Given","index":0,"text":"path 'apis'"}},{"result":{"nanos":2605400,"startTime":1743951779633,"endTime":1743951779636,"millis":2.6054,"status":"passed"},"step":{"endLine":46,"line":38,"prefix":"And","docString":"{\n  \"nombre\": \"API Inválida\",\n  \"endpoint\": \"\/test\",\n  \"metodo\": \"INVALID\",\n  \"url\": \"https:\/\/example.com\"\n}","index":1,"text":"request"}},{"result":{"nanos":60387200,"startTime":1743951779637,"endTime":1743951779697,"millis":60.3872,"status":"passed"},"step":{"line":47,"prefix":"When","index":2,"text":"method POST"},"stepLog":"10:02:59.651 request:\n1 > POST http:\/\/localhost:3000\/apis\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 95\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.2)\n1 > Accept-Encoding: gzip,deflate\n{\"nombre\":\"API Inválida\",\"endpoint\":\"\\\/test\",\"metodo\":\"INVALID\",\"url\":\"https:\\\/\\\/example.com\"}\n\n10:02:59.695 response time in milliseconds: 31\n1 < 500\n1 < access-control-allow-origin: http:\/\/localhost:5173\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 663\n1 < Date: Sun, 06 Apr 2025 15:02:59 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=72\n{\"statusCode\":500,\"error\":\"Internal Server Error\",\"message\":\"\\nInvalid `prisma.apis.create()` invocation in\\nC:\\\\Users\\\\juans\\\\OneDrive\\\\Escritorio\\\\Proyectos\\\\ParcialPruebas\\\\backend\\\\index.ts:30:33\\n\\n  27 \/\/ Crear una API\\n  28 fastify.post<{ Body: ApiBody }>('\/apis', async (request, reply) => {\\n  29   const data = request.body;\\n→ 30   const api = await prisma.apis.create({\\n         data: {\\n           nombre: \\\"API Inválida\\\",\\n           endpoint: \\\"\/test\\\",\\n           metodo: \\\"INVALID\\\",\\n                   ~~~~~~~~~\\n           url: \\\"https:\/\/example.com\\\"\\n         }\\n       })\\n\\nInvalid value for argument `metodo`. Expected MetodoHttp.\"}\n\n"},{"result":{"nanos":38000,"startTime":1743951779697,"endTime":1743951779697,"millis":0.038,"status":"passed"},"step":{"line":48,"prefix":"Then","index":3,"text":"status 500  # Prisma rechazará un método no válido del enum"}},{"result":{"nanos":1740900,"startTime":1743951779697,"endTime":1743951779699,"millis":1.7409,"status":"passed"},"step":{"line":49,"prefix":"And","index":4,"text":"match response.error == 'Internal Server Error'"}}],"executorName":"main","line":36,"name":"Crear una API con método HTTP inválido","description":"","durationMillis":65.6602,"startTime":1743951779632,"failed":false,"refId":"[3:36]","endTime":1743951779699,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":684600,"startTime":1743951779713,"endTime":1743951779714,"millis":0.6846,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:3000'"}},{"result":{"nanos":476900,"startTime":1743951779714,"endTime":1743951779714,"millis":0.4769,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":135600,"startTime":1743951779714,"endTime":1743951779714,"millis":0.1356,"status":"passed"},"step":{"line":53,"prefix":"Given","index":0,"text":"path 'apis'"}},{"result":{"nanos":218294000,"startTime":1743951779714,"endTime":1743951779932,"millis":218.294,"status":"passed"},"step":{"line":54,"prefix":"When","index":1,"text":"method GET"},"stepLog":"10:02:59.735 request:\n1 > GET http:\/\/localhost:3000\/apis\n1 > Content-Type: application\/json\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.2)\n1 > Accept-Encoding: gzip,deflate\n\n\n10:02:59.919 response time in milliseconds: 176\n1 < 200\n1 < access-control-allow-origin: http:\/\/localhost:5173\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 11343\n1 < Date: Sun, 06 Apr 2025 15:02:59 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=72\n[{\"id\":\"187c7bb5-2f9c-4e39-b1b8-ddaff7e431e5\",\"nombre\":\"Google Geocoding\",\"descripcion\":\"API de Google para convertir direcciones en coordenadas geográficas\",\"endpoint\":\"\/maps\/api\/geocode\/json\",\"metodo\":\"GET\",\"url\":\"https:\/\/maps.googleapis.com\/maps\/api\/geocode\/json\",\"parametros\":{\"address\":\"Medellín, Colombia\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":\"API Key: b6f2d8c1-49e7-4c3d-a92b-e0d1a5f6c8d3\",\"creado_en\":\"2025-04-03T03:50:07.221Z\",\"actualizado_en\":\"2025-04-03T03:50:07.221Z\"},{\"id\":\"ca0b1582-7396-4d9e-8f81-7d8f23535e51\",\"nombre\":\"OpenWeather\",\"descripcion\":\"API para obtener datos meteorológicos y pronósticos\",\"endpoint\":\"\/data\/2.5\/weather\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.openweathermap.org\/data\/2.5\/weather\",\"parametros\":{\"q\":\"Bogotá\",\"units\":\"metric\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":\"API Key: a1c4e8d9-5b32-4a6f-b9d1-72e3f6c4a5d8\",\"creado_en\":\"2025-04-03T03:50:07.221Z\",\"actualizado_en\":\"2025-04-03T03:50:07.221Z\"},{\"id\":\"4a0a3c87-a74d-414f-a7fb-c290b1567574\",\"nombre\":\"Postman Echo\",\"descripcion\":\"Servicio para pruebas de API con Postman\",\"endpoint\":\"\/get\",\"metodo\":\"GET\",\"url\":\"https:\/\/postman-echo.com\/get\",\"parametros\":{\"foo\":\"bar\",\"test\":\"123\"},\"headers\":{\"User-Agent\":\"PostmanRuntime\"},\"auth\":\"None\",\"creado_en\":\"2025-04-03T03:50:07.221Z\",\"actualizado_en\":\"2025-04-03T03:50:07.221Z\"},{\"id\":\"6e0aff13-00f2-4cdc-afa4-1d9316494501\",\"nombre\":\"WeatherAPI\",\"descripcion\":\"API para obtener datos del clima en tiempo real Gratis\",\"endpoint\":\"\/v1\/current.json\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Pereira\",\"aqi\":\"no\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":\"API Key: 8f3d6a2e-7b41-4c9a-bd72-a1d34ef98267\",\"creado_en\":\"2025-04-03T03:50:07.221Z\",\"actualizado_en\":\"2025-04-03T03:50:34.716Z\"},{\"id\":\"8bb9ba3e-6e83-4159-acdf-a5eb2282f398\",\"nombre\":\"Reservar mesa disponible\",\"descripcion\":\"Crea una reserva en un restaurante\",\"endpoint\":\"\/reservations\",\"metodo\":\"POST\",\"url\":\"https:\/\/dining.example.com\/api\/reservations\",\"parametros\":{\"date\":\"2025-04-15\",\"time\":\"19:00\",\"guests\":4,\"restaurantId\":\"rest-123\"},\"headers\":{\"X-API-Token\":\"dining-key-456\",\"Content-Type\":\"application\/json\"},\"auth\":\"Basic cmVzdDpzdXBlcnNlY3JldA==\",\"creado_en\":\"2025-04-03T04:05:21.255Z\",\"actualizado_en\":\"2025-04-03T04:05:53.635Z\"},{\"id\":\"8174521f-178f-4166-8a5c-5952e643c735\",\"nombre\":\"NASA Power\",\"descripcion\":\"API para obtener datos climáticos históricos y pronósticos Gratis\",\"endpoint\":\"\/power\/api\/v1\/data\",\"metodo\":\"GET\",\"url\":\"https:\/\/power.larc.nasa.gov\/api\/v1\/data\",\"parametros\":{\"end\":\"20240331\",\"start\":\"20240101\",\"latitude\":\"4.8\",\"community\":\"AG\",\"longitude\":\"-75.7\",\"parameters\":\"T2M,QV2M,PRECTOTCORR\"},\"headers\":{\"Accept\":\"application\/json\"},\"auth\":\"API Key: 2d5e4a9b-61c3-4b88-9f3c-28b4d8c7f2a1\",\"creado_en\":\"2025-04-03T03:50:07.221Z\",\"actualizado_en\":\"2025-04-04T06:10:07.682Z\"},{\"id\":\"6e214f7b-ad77-4b8c-bcce-ea48e47be3cd\",\"nombre\":\"API de Clima\",\"descripcion\":\"Consulta de clima actual\",\"endpoint\":\"clima\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":[{\"clave\":\"key\",\"valor\":\"demo\"},{\"clave\":\"q\",\"valor\":\"Medellin\"}],\"headers\":[{\"clave\":\"Content-Type\",\"valor\":\"application\/json\"}],\"auth\":\" \",\"creado_en\":\"2025-04-06T13:25:57.876Z\",\"actualizado_en\":\"2025-04-06T13:25:57.876Z\"},{\"id\":\"d6d67def-65e1-4be0-86fa-b1c6bf655611\",\"nombre\":\"API de Clima\",\"descripcion\":\"Consulta de clima actual\",\"endpoint\":\"clima\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":[{\"clave\":\"key\",\"valor\":\"demo\"},{\"clave\":\"q\",\"valor\":\"Medellin\"}],\"headers\":[{\"clave\":\"Content-Type\",\"valor\":\"application\/json\"}],\"auth\":\" \",\"creado_en\":\"2025-04-06T13:37:56.118Z\",\"actualizado_en\":\"2025-04-06T13:37:56.118Z\"},{\"id\":\"785ab3e3-6734-4e8d-864f-0ecdcb1f5b04\",\"nombre\":\"API de Clima\",\"descripcion\":\"Consulta de clima actual\",\"endpoint\":\"clima\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Medellin\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":\" \",\"creado_en\":\"2025-04-06T13:46:32.527Z\",\"actualizado_en\":\"2025-04-06T13:46:32.527Z\"},{\"id\":\"f57d464d-38aa-46f8-a35f-9bc55cc31fb9\",\"nombre\":\"API de Clima\",\"descripcion\":\"Consulta de clima actual\",\"endpoint\":\"clima\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Medellin\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":null,\"creado_en\":\"2025-04-06T13:52:46.818Z\",\"actualizado_en\":\"2025-04-06T13:52:46.818Z\"},{\"id\":\"64e1607c-c2a8-4c9d-af54-f8033fba381b\",\"nombre\":\"API de Clima\",\"descripcion\":\"Consulta de clima actual\",\"endpoint\":\"clima\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Medellin\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":null,\"creado_en\":\"2025-04-06T14:03:55.581Z\",\"actualizado_en\":\"2025-04-06T14:03:55.581Z\"},{\"id\":\"2aab5990-1023-446d-b5a6-db5011641252\",\"nombre\":\"API de Clima\",\"descripcion\":\"Consulta de clima actual\",\"endpoint\":\"clima\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Medellin\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":null,\"creado_en\":\"2025-04-06T14:07:14.638Z\",\"actualizado_en\":\"2025-04-06T14:07:14.638Z\"},{\"id\":\"5ca4a7ef-c2e4-4ae0-9812-0fd749e9251f\",\"nombre\":\"API de Clima\",\"descripcion\":\"Consulta de clima actual\",\"endpoint\":\"clima\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Medellin\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":null,\"creado_en\":\"2025-04-06T14:11:32.501Z\",\"actualizado_en\":\"2025-04-06T14:11:32.501Z\"},{\"id\":\"9c7c90ca-2523-40c8-b545-9c4eb68a0c0a\",\"nombre\":\"TestAPI\",\"descripcion\":null,\"endpoint\":\"\/test\",\"metodo\":\"GET\",\"url\":\"https:\/\/example.com\",\"parametros\":{},\"headers\":{},\"auth\":null,\"creado_en\":\"2025-04-06T14:19:29.084Z\",\"actualizado_en\":\"2025-04-06T14:19:29.084Z\"},{\"id\":\"5953adb2-ccb8-456c-8f78-c11da89a8720\",\"nombre\":\"GetByIdTest\",\"descripcion\":null,\"endpoint\":\"\/get\",\"metodo\":\"POST\",\"url\":\"https:\/\/test.com\",\"parametros\":{},\"headers\":{},\"auth\":null,\"creado_en\":\"2025-04-06T14:19:29.734Z\",\"actualizado_en\":\"2025-04-06T14:19:29.734Z\"},{\"id\":\"f83d85a2-06da-47e5-b058-cb8ec2c94be6\",\"nombre\":\"UpdateTest\",\"descripcion\":null,\"endpoint\":\"\/update\",\"metodo\":\"PUT\",\"url\":\"https:\/\/old.com\",\"parametros\":{},\"headers\":{},\"auth\":null,\"creado_en\":\"2025-04-06T14:19:30.165Z\",\"actualizado_en\":\"2025-04-06T14:19:30.165Z\"},{\"id\":\"c8d83b99-7256-44d6-b372-79a96fbc8f7f\",\"nombre\":\"DeleteTest\",\"descripcion\":null,\"endpoint\":\"\/delete\",\"metodo\":\"DELETE\",\"url\":\"https:\/\/delete.com\",\"parametros\":{},\"headers\":{},\"auth\":null,\"creado_en\":\"2025-04-06T14:19:30.288Z\",\"actualizado_en\":\"2025-04-06T14:19:30.288Z\"},{\"id\":\"40ccdf49-585e-48b8-ad3a-4e90a9e0266a\",\"nombre\":\"API de Clima\",\"descripcion\":\"Consulta de clima actual\",\"endpoint\":\"\/clima\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Medellin\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":null,\"creado_en\":\"2025-04-06T14:24:41.794Z\",\"actualizado_en\":\"2025-04-06T14:24:41.794Z\"},{\"id\":\"95036301-9844-477d-b9df-6d48ef04b223\",\"nombre\":\"TestById\",\"descripcion\":null,\"endpoint\":\"\/test\",\"metodo\":\"GET\",\"url\":\"https:\/\/example.com\",\"parametros\":{},\"headers\":{},\"auth\":null,\"creado_en\":\"2025-04-06T14:24:42.566Z\",\"actualizado_en\":\"2025-04-06T14:24:42.566Z\"},{\"id\":\"b549e246-2b9d-41fb-9f36-5be004abe1bf\",\"nombre\":\"API Actualizada\",\"descripcion\":\"Versión actualizada\",\"endpoint\":\"\/clima-actualizado\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Bogota\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":\"Bearer token123\",\"creado_en\":\"2025-04-06T14:24:42.934Z\",\"actualizado_en\":\"2025-04-06T14:24:42.966Z\"},{\"id\":\"d9358183-0df9-4902-bbf8-d7d4080fa647\",\"nombre\":\"API de Clima\",\"descripcion\":\"Consulta de clima actual\",\"endpoint\":\"\/clima\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Medellin\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":null,\"creado_en\":\"2025-04-06T14:36:15.823Z\",\"actualizado_en\":\"2025-04-06T14:36:15.823Z\"},{\"id\":\"bad27826-c683-4ffe-bfe2-3564ab81b28b\",\"nombre\":\"TestById\",\"descripcion\":null,\"endpoint\":\"\/test\",\"metodo\":\"GET\",\"url\":\"https:\/\/example.com\",\"parametros\":{},\"headers\":{},\"auth\":null,\"creado_en\":\"2025-04-06T14:36:16.718Z\",\"actualizado_en\":\"2025-04-06T14:36:16.718Z\"},{\"id\":\"30ac4aa0-3d7d-4964-80ef-ce3a348d474d\",\"nombre\":\"API Actualizada\",\"descripcion\":\"Versión actualizada\",\"endpoint\":\"\/clima-actualizado\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Bogota\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":\"Bearer token123\",\"creado_en\":\"2025-04-06T14:36:17.053Z\",\"actualizado_en\":\"2025-04-06T14:36:17.087Z\"},{\"id\":\"9b52edfc-d82c-45e2-bd0a-1f7154f4a92d\",\"nombre\":\"API de Clima\",\"descripcion\":\"Consulta de clima actual\",\"endpoint\":\"\/clima\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Medellin\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":null,\"creado_en\":\"2025-04-06T14:47:44.808Z\",\"actualizado_en\":\"2025-04-06T14:47:44.808Z\"},{\"id\":\"ca4d6fa4-5494-498d-b624-c23e739495c0\",\"nombre\":\"TestById\",\"descripcion\":null,\"endpoint\":\"\/test\",\"metodo\":\"GET\",\"url\":\"https:\/\/example.com\",\"parametros\":{},\"headers\":{},\"auth\":null,\"creado_en\":\"2025-04-06T14:47:45.886Z\",\"actualizado_en\":\"2025-04-06T14:47:45.886Z\"},{\"id\":\"f16c98a1-e120-4e18-be2d-eb5070d27c93\",\"nombre\":\"API Actualizada\",\"descripcion\":\"Versión actualizada\",\"endpoint\":\"\/clima-actualizado\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Bogota\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":\"Bearer token123\",\"creado_en\":\"2025-04-06T14:47:46.203Z\",\"actualizado_en\":\"2025-04-06T14:47:46.237Z\"},{\"id\":\"fc547382-1bac-40ec-bcfa-4da0327a1fd5\",\"nombre\":\"API de Clima\",\"descripcion\":\"Consulta de clima actual\",\"endpoint\":\"\/clima\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Medellin\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":null,\"creado_en\":\"2025-04-06T14:53:46.545Z\",\"actualizado_en\":\"2025-04-06T14:53:46.545Z\"},{\"id\":\"9e2767d7-97ff-478c-9f10-052ef5a59280\",\"nombre\":\"TestById\",\"descripcion\":null,\"endpoint\":\"\/test\",\"metodo\":\"GET\",\"url\":\"https:\/\/example.com\",\"parametros\":{},\"headers\":{},\"auth\":null,\"creado_en\":\"2025-04-06T14:53:47.292Z\",\"actualizado_en\":\"2025-04-06T14:53:47.292Z\"},{\"id\":\"7b71d5f3-752b-480e-8d69-1adf9da4d9f6\",\"nombre\":\"API Actualizada\",\"descripcion\":\"Versión actualizada\",\"endpoint\":\"\/clima-actualizado\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Bogota\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":\"Bearer token123\",\"creado_en\":\"2025-04-06T14:53:47.664Z\",\"actualizado_en\":\"2025-04-06T14:53:47.703Z\"},{\"id\":\"844933d1-fd50-4fd2-844a-331d812a2713\",\"nombre\":\"API de Clima\",\"descripcion\":\"Consulta de clima actual\",\"endpoint\":\"\/clima\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Medellin\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":null,\"creado_en\":\"2025-04-06T15:02:58.639Z\",\"actualizado_en\":\"2025-04-06T15:02:58.639Z\"}]\n\n"},{"result":{"nanos":33000,"startTime":1743951779932,"endTime":1743951779932,"millis":0.033,"status":"passed"},"step":{"line":55,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":2410600,"startTime":1743951779934,"endTime":1743951779936,"millis":2.4106,"status":"passed"},"step":{"line":56,"prefix":"And","index":3,"text":"match response == '#array'"}},{"result":{"nanos":41417600,"startTime":1743951779937,"endTime":1743951779978,"millis":41.4176,"status":"passed"},"step":{"line":57,"prefix":"And","index":4,"text":"match each response contains { id: '#uuid', nombre: '#string', endpoint: '#string', metodo: '#string', url: '#string' }"}}],"executorName":"main","line":52,"name":"Obtener todas las APIs","description":"","durationMillis":263.4523,"startTime":1743951779713,"failed":false,"refId":"[4:52]","endTime":1743951779978,"exampleIndex":-1},{"sectionIndex":4,"stepResults":[{"result":{"nanos":417300,"startTime":1743951780030,"endTime":1743951780030,"millis":0.4173,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:3000'"}},{"result":{"nanos":1780100,"startTime":1743951780032,"endTime":1743951780034,"millis":1.7801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":144100,"startTime":1743951780034,"endTime":1743951780034,"millis":0.1441,"status":"passed"},"step":{"line":60,"prefix":"Given","index":0,"text":"path 'apis'"}},{"result":{"nanos":322800,"startTime":1743951780034,"endTime":1743951780034,"millis":0.3228,"status":"passed"},"step":{"line":61,"prefix":"And","index":1,"text":"request { \"nombre\": \"TestById\", \"endpoint\": \"\/test\", \"metodo\": \"GET\", \"url\": \"https:\/\/example.com\" }"}},{"result":{"nanos":70307500,"startTime":1743951780034,"endTime":1743951780104,"millis":70.3075,"status":"passed"},"step":{"line":62,"prefix":"When","index":2,"text":"method POST"},"stepLog":"10:03:00.048 request:\n1 > POST http:\/\/localhost:3000\/apis\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 86\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.2)\n1 > Accept-Encoding: gzip,deflate\n{\"nombre\":\"TestById\",\"endpoint\":\"\\\/test\",\"metodo\":\"GET\",\"url\":\"https:\\\/\\\/example.com\"}\n\n10:03:00.102 response time in milliseconds: 44\n1 < 200\n1 < access-control-allow-origin: http:\/\/localhost:5173\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 270\n1 < Date: Sun, 06 Apr 2025 15:03:00 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=72\n{\"id\":\"82eedc41-217a-4b27-84ed-5f733a29b057\",\"nombre\":\"TestById\",\"descripcion\":null,\"endpoint\":\"\/test\",\"metodo\":\"GET\",\"url\":\"https:\/\/example.com\",\"parametros\":{},\"headers\":{},\"auth\":null,\"creado_en\":\"2025-04-06T15:03:00.058Z\",\"actualizado_en\":\"2025-04-06T15:03:00.058Z\"}\n\n"},{"result":{"nanos":31400,"startTime":1743951780106,"endTime":1743951780106,"millis":0.0314,"status":"passed"},"step":{"line":63,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":713900,"startTime":1743951780106,"endTime":1743951780107,"millis":0.7139,"status":"passed"},"step":{"line":64,"prefix":"*","index":4,"text":"def apiId = response.id"}},{"result":{"nanos":30719600,"startTime":1743951780107,"endTime":1743951780138,"millis":30.7196,"status":"passed"},"step":{"line":65,"prefix":"Given","index":5,"text":"path 'apis', apiId"}},{"result":{"nanos":68171100,"startTime":1743951780138,"endTime":1743951780206,"millis":68.1711,"status":"passed"},"step":{"line":66,"prefix":"When","index":6,"text":"method GET"},"stepLog":"10:03:00.150 request:\n2 > GET http:\/\/localhost:3000\/apis\/82eedc41-217a-4b27-84ed-5f733a29b057\n2 > Host: localhost:3000\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.2)\n2 > Accept-Encoding: gzip,deflate\n\n\n10:03:00.202 response time in milliseconds: 40\n2 < 200\n2 < access-control-allow-origin: http:\/\/localhost:5173\n2 < content-type: application\/json; charset=utf-8\n2 < content-length: 270\n2 < Date: Sun, 06 Apr 2025 15:03:00 GMT\n2 < Connection: keep-alive\n2 < Keep-Alive: timeout=72\n{\"id\":\"82eedc41-217a-4b27-84ed-5f733a29b057\",\"nombre\":\"TestById\",\"descripcion\":null,\"endpoint\":\"\/test\",\"metodo\":\"GET\",\"url\":\"https:\/\/example.com\",\"parametros\":{},\"headers\":{},\"auth\":null,\"creado_en\":\"2025-04-06T15:03:00.058Z\",\"actualizado_en\":\"2025-04-06T15:03:00.058Z\"}\n\n"},{"result":{"nanos":32700,"startTime":1743951780206,"endTime":1743951780206,"millis":0.0327,"status":"passed"},"step":{"line":67,"prefix":"Then","index":7,"text":"status 200"}},{"result":{"nanos":1726100,"startTime":1743951780206,"endTime":1743951780208,"millis":1.7261,"status":"passed"},"step":{"line":68,"prefix":"And","index":8,"text":"match response.id == apiId"}},{"result":{"nanos":3788000,"startTime":1743951780208,"endTime":1743951780212,"millis":3.788,"status":"passed"},"step":{"line":69,"prefix":"And","index":9,"text":"match response.nombre == 'TestById'"}}],"executorName":"main","line":59,"name":"Obtener una API por ID válido","description":"","durationMillis":178.1546,"startTime":1743951780030,"failed":false,"refId":"[5:59]","endTime":1743951780212,"exampleIndex":-1},{"sectionIndex":5,"stepResults":[{"result":{"nanos":371800,"startTime":1743951780223,"endTime":1743951780223,"millis":0.3718,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:3000'"}},{"result":{"nanos":1060800,"startTime":1743951780224,"endTime":1743951780225,"millis":1.0608,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":4878300,"startTime":1743951780225,"endTime":1743951780230,"millis":4.8783,"status":"passed"},"step":{"line":72,"prefix":"Given","index":0,"text":"path 'apis', 'non-existent-id'"}},{"result":{"nanos":81983100,"startTime":1743951780230,"endTime":1743951780312,"millis":81.9831,"status":"passed"},"step":{"line":73,"prefix":"When","index":1,"text":"method GET"},"stepLog":"10:03:00.245 request:\n1 > GET http:\/\/localhost:3000\/apis\/non-existent-id\n1 > Content-Type: application\/json\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.2)\n1 > Accept-Encoding: gzip,deflate\n\n\n10:03:00.310 response time in milliseconds: 57\n1 < 500\n1 < access-control-allow-origin: http:\/\/localhost:5173\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 580\n1 < Date: Sun, 06 Apr 2025 15:03:00 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=72\n{\"statusCode\":500,\"code\":\"P2023\",\"error\":\"Internal Server Error\",\"message\":\"\\nInvalid `prisma.apis.findUnique()` invocation in\\nC:\\\\Users\\\\juans\\\\OneDrive\\\\Escritorio\\\\Proyectos\\\\ParcialPruebas\\\\backend\\\\index.ts:43:33\\n\\n  40 \/\/ Leer una API por ID\\n  41 fastify.get<{ Params: { id: string } }>('\/apis\/:id', async (request, reply) => {\\n  42   const { id } = request.params;\\n→ 43   const api = await prisma.apis.findUnique(\\nInconsistent column data: Error creating UUID, invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `n` at 1\"}\n\n"},{"result":{"nanos":30300,"startTime":1743951780312,"endTime":1743951780312,"millis":0.0303,"status":"passed"},"step":{"line":74,"prefix":"Then","index":2,"text":"status 500  # Tu servidor devuelve 500 en lugar de 200 con error"}},{"result":{"nanos":1830700,"startTime":1743951780315,"endTime":1743951780317,"millis":1.8307,"status":"passed"},"step":{"line":75,"prefix":"And","index":3,"text":"match response.error == 'Internal Server Error'"}},{"result":{"nanos":1327200,"startTime":1743951780317,"endTime":1743951780318,"millis":1.3272,"status":"passed"},"step":{"line":76,"prefix":"And","index":4,"text":"match response.message contains 'Error creating UUID'"}}],"executorName":"main","line":71,"name":"Obtener una API con ID no válido","description":"","durationMillis":91.4822,"startTime":1743951780223,"failed":false,"refId":"[6:71]","endTime":1743951780318,"exampleIndex":-1},{"sectionIndex":6,"stepResults":[{"result":{"nanos":359300,"startTime":1743951780326,"endTime":1743951780326,"millis":0.3593,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:3000'"}},{"result":{"nanos":212900,"startTime":1743951780327,"endTime":1743951780327,"millis":0.2129,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":119200,"startTime":1743951780327,"endTime":1743951780327,"millis":0.1192,"status":"passed"},"step":{"line":80,"prefix":"Given","index":0,"text":"path 'apis'"}},{"result":{"nanos":216400,"startTime":1743951780327,"endTime":1743951780327,"millis":0.2164,"status":"passed"},"step":{"line":81,"prefix":"And","index":1,"text":"request { \"nombre\": \"UpdateTest\", \"endpoint\": \"\/old\", \"metodo\": \"GET\", \"url\": \"https:\/\/old.com\" }"}},{"result":{"nanos":103282900,"startTime":1743951780328,"endTime":1743951780431,"millis":103.2829,"status":"passed"},"step":{"line":82,"prefix":"When","index":2,"text":"method POST"},"stepLog":"10:03:00.372 request:\n1 > POST http:\/\/localhost:3000\/apis\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 83\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.2)\n1 > Accept-Encoding: gzip,deflate\n{\"nombre\":\"UpdateTest\",\"endpoint\":\"\\\/old\",\"metodo\":\"GET\",\"url\":\"https:\\\/\\\/old.com\"}\n\n10:03:00.429 response time in milliseconds: 46\n1 < 200\n1 < access-control-allow-origin: http:\/\/localhost:5173\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 267\n1 < Date: Sun, 06 Apr 2025 15:03:00 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=72\n{\"id\":\"5a1b3cda-bd60-4e38-a263-0b5b961b0f6f\",\"nombre\":\"UpdateTest\",\"descripcion\":null,\"endpoint\":\"\/old\",\"metodo\":\"GET\",\"url\":\"https:\/\/old.com\",\"parametros\":{},\"headers\":{},\"auth\":null,\"creado_en\":\"2025-04-06T15:03:00.415Z\",\"actualizado_en\":\"2025-04-06T15:03:00.415Z\"}\n\n"},{"result":{"nanos":31900,"startTime":1743951780432,"endTime":1743951780432,"millis":0.0319,"status":"passed"},"step":{"line":83,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":1411800,"startTime":1743951780432,"endTime":1743951780433,"millis":1.4118,"status":"passed"},"step":{"line":84,"prefix":"*","index":4,"text":"def apiId = response.id"}},{"result":{"nanos":500700,"startTime":1743951780433,"endTime":1743951780434,"millis":0.5007,"status":"passed"},"step":{"line":85,"prefix":"Given","index":5,"text":"path 'apis', apiId"}},{"result":{"nanos":293900,"startTime":1743951780434,"endTime":1743951780434,"millis":0.2939,"status":"passed"},"step":{"endLine":98,"line":86,"prefix":"And","docString":"{\n  \"nombre\": \"API Actualizada\",\n  \"descripcion\": \"Versión actualizada\",\n  \"endpoint\": \"\/clima-actualizado\",\n  \"metodo\": \"GET\",\n  \"url\": \"https:\/\/api.weatherapi.com\/v1\/current.json\",\n  \"parametros\": { \"key\": \"demo\", \"q\": \"Bogota\" },\n  \"headers\": { \"Content-Type\": \"application\/json\" },\n  \"auth\": \"Bearer token123\"\n}","index":6,"text":"request"}},{"result":{"nanos":53855100,"startTime":1743951780434,"endTime":1743951780488,"millis":53.8551,"status":"passed"},"step":{"line":99,"prefix":"When","index":7,"text":"method PUT"},"stepLog":"10:03:00.445 request:\n2 > PUT http:\/\/localhost:3000\/apis\/5a1b3cda-bd60-4e38-a263-0b5b961b0f6f\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 281\n2 > Host: localhost:3000\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.2)\n2 > Accept-Encoding: gzip,deflate\n{\"nombre\":\"API Actualizada\",\"descripcion\":\"Versión actualizada\",\"endpoint\":\"\\\/clima-actualizado\",\"metodo\":\"GET\",\"url\":\"https:\\\/\\\/api.weatherapi.com\\\/v1\\\/current.json\",\"parametros\":{\"key\":\"demo\",\"q\":\"Bogota\"},\"headers\":{\"Content-Type\":\"application\\\/json\"},\"auth\":\"Bearer token123\"}\n\n10:03:00.486 response time in milliseconds: 35\n2 < 200\n2 < access-control-allow-origin: http:\/\/localhost:5173\n2 < content-type: application\/json; charset=utf-8\n2 < content-length: 402\n2 < Date: Sun, 06 Apr 2025 15:03:00 GMT\n2 < Connection: keep-alive\n2 < Keep-Alive: timeout=72\n{\"id\":\"5a1b3cda-bd60-4e38-a263-0b5b961b0f6f\",\"nombre\":\"API Actualizada\",\"descripcion\":\"Versión actualizada\",\"endpoint\":\"\/clima-actualizado\",\"metodo\":\"GET\",\"url\":\"https:\/\/api.weatherapi.com\/v1\/current.json\",\"parametros\":{\"q\":\"Bogota\",\"key\":\"demo\"},\"headers\":{\"Content-Type\":\"application\/json\"},\"auth\":\"Bearer token123\",\"creado_en\":\"2025-04-06T15:03:00.415Z\",\"actualizado_en\":\"2025-04-06T15:03:00.447Z\"}\n\n"},{"result":{"nanos":33000,"startTime":1743951780489,"endTime":1743951780489,"millis":0.033,"status":"passed"},"step":{"line":100,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2213200,"startTime":1743951780489,"endTime":1743951780491,"millis":2.2132,"status":"passed"},"step":{"line":101,"prefix":"And","index":9,"text":"match response.nombre == 'API Actualizada'"}},{"result":{"nanos":4049400,"startTime":1743951780492,"endTime":1743951780496,"millis":4.0494,"status":"passed"},"step":{"line":102,"prefix":"And","index":10,"text":"match response.parametros.q == 'Bogota'"}},{"result":{"nanos":2613900,"startTime":1743951780495,"endTime":1743951780498,"millis":2.6139,"status":"passed"},"step":{"line":103,"prefix":"And","index":11,"text":"match response.auth == 'Bearer token123'"}}],"executorName":"main","line":79,"name":"Actualizar una API existente","description":"","durationMillis":169.1936,"startTime":1743951780326,"failed":false,"refId":"[7:79]","endTime":1743951780499,"exampleIndex":-1},{"sectionIndex":7,"stepResults":[{"result":{"nanos":750600,"startTime":1743951780512,"endTime":1743951780513,"millis":0.7506,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:3000'"}},{"result":{"nanos":234400,"startTime":1743951780513,"endTime":1743951780513,"millis":0.2344,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":1654800,"startTime":1743951780513,"endTime":1743951780515,"millis":1.6548,"status":"passed"},"step":{"line":106,"prefix":"Given","index":0,"text":"path 'apis', '00000000-0000-0000-0000-000000000000'"}},{"result":{"nanos":277300,"startTime":1743951780515,"endTime":1743951780515,"millis":0.2773,"status":"passed"},"step":{"line":107,"prefix":"And","index":1,"text":"request { \"nombre\": \"NoExist\", \"endpoint\": \"\/test\", \"metodo\": \"GET\", \"url\": \"https:\/\/example.com\" }"}},{"result":{"nanos":75316500,"startTime":1743951780515,"endTime":1743951780590,"millis":75.3165,"status":"passed"},"step":{"line":108,"prefix":"When","index":2,"text":"method PUT"},"stepLog":"10:03:00.535 request:\n1 > PUT http:\/\/localhost:3000\/apis\/00000000-0000-0000-0000-000000000000\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 85\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.2)\n1 > Accept-Encoding: gzip,deflate\n{\"nombre\":\"NoExist\",\"endpoint\":\"\\\/test\",\"metodo\":\"GET\",\"url\":\"https:\\\/\\\/example.com\"}\n\n10:03:00.586 response time in milliseconds: 42\n1 < 500\n1 < access-control-allow-origin: http:\/\/localhost:5173\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 567\n1 < Date: Sun, 06 Apr 2025 15:03:00 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=72\n{\"statusCode\":500,\"code\":\"P2025\",\"error\":\"Internal Server Error\",\"message\":\"\\nInvalid `prisma.apis.update()` invocation in\\nC:\\\\Users\\\\juans\\\\OneDrive\\\\Escritorio\\\\Proyectos\\\\ParcialPruebas\\\\backend\\\\index.ts:51:33\\n\\n  48 fastify.put<{ Params: { id: string }; Body: ApiBody }>('\/apis\/:id', async (request, reply) => {\\n  49   const { id } = request.params;\\n  50   const data = request.body;\\n→ 51   const api = await prisma.apis.update(\\nAn operation failed because it depends on one or more records that were required but not found. Record to update not found.\"}\n\n"},{"result":{"nanos":34000,"startTime":1743951780591,"endTime":1743951780591,"millis":0.034,"status":"passed"},"step":{"line":109,"prefix":"Then","index":3,"text":"status 500  # Prisma devuelve 500 si no encuentra el registro"}},{"result":{"nanos":1063600,"startTime":1743951780591,"endTime":1743951780592,"millis":1.0636,"status":"passed"},"step":{"line":110,"prefix":"And","index":4,"text":"match response.error == 'Internal Server Error'"}}],"executorName":"main","line":105,"name":"Actualizar una API inexistente","description":"","durationMillis":79.3312,"startTime":1743951780512,"failed":false,"refId":"[8:105]","endTime":1743951780592,"exampleIndex":-1},{"sectionIndex":8,"stepResults":[{"result":{"nanos":1813300,"startTime":1743951780605,"endTime":1743951780607,"millis":1.8133,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:3000'"}},{"result":{"nanos":285300,"startTime":1743951780607,"endTime":1743951780607,"millis":0.2853,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":3014200,"startTime":1743951780607,"endTime":1743951780610,"millis":3.0142,"status":"passed"},"step":{"line":114,"prefix":"Given","index":0,"text":"path 'apis'"}},{"result":{"nanos":397400,"startTime":1743951780611,"endTime":1743951780611,"millis":0.3974,"status":"passed"},"step":{"line":115,"prefix":"And","index":1,"text":"request { \"nombre\": \"DeleteTest\", \"endpoint\": \"\/delete\", \"metodo\": \"DELETE\", \"url\": \"https:\/\/delete.com\" }"}},{"result":{"nanos":60546300,"startTime":1743951780611,"endTime":1743951780672,"millis":60.5463,"status":"passed"},"step":{"line":116,"prefix":"When","index":2,"text":"method POST"},"stepLog":"10:03:00.650 request:\n1 > POST http:\/\/localhost:3000\/apis\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 92\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.2)\n1 > Accept-Encoding: gzip,deflate\n{\"nombre\":\"DeleteTest\",\"endpoint\":\"\\\/delete\",\"metodo\":\"DELETE\",\"url\":\"https:\\\/\\\/delete.com\"}\n\n10:03:00.668 response time in milliseconds: 11\n1 < 200\n1 < access-control-allow-origin: http:\/\/localhost:5173\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 276\n1 < Date: Sun, 06 Apr 2025 15:03:00 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=72\n{\"id\":\"e7b2f6a4-9ef4-42d1-ab84-e264f9a3c348\",\"nombre\":\"DeleteTest\",\"descripcion\":null,\"endpoint\":\"\/delete\",\"metodo\":\"DELETE\",\"url\":\"https:\/\/delete.com\",\"parametros\":{},\"headers\":{},\"auth\":null,\"creado_en\":\"2025-04-06T15:03:00.658Z\",\"actualizado_en\":\"2025-04-06T15:03:00.658Z\"}\n\n"},{"result":{"nanos":34400,"startTime":1743951780672,"endTime":1743951780672,"millis":0.0344,"status":"passed"},"step":{"line":117,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":9852900,"startTime":1743951780673,"endTime":1743951780683,"millis":9.8529,"status":"passed"},"step":{"line":118,"prefix":"*","index":4,"text":"def apiId = response.id"}},{"result":{"nanos":879100,"startTime":1743951780683,"endTime":1743951780684,"millis":0.8791,"status":"passed"},"step":{"line":119,"prefix":"Given","index":5,"text":"path 'apis', apiId"}},{"result":{"nanos":46295000,"startTime":1743951780684,"endTime":1743951780730,"millis":46.295,"status":"passed"},"step":{"line":120,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"10:03:00.699 request:\n2 > DELETE http:\/\/localhost:3000\/apis\/e7b2f6a4-9ef4-42d1-ab84-e264f9a3c348\n2 > Host: localhost:3000\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.2)\n2 > Accept-Encoding: gzip,deflate\n\n\n10:03:00.728 response time in milliseconds: 18\n2 < 200\n2 < access-control-allow-origin: http:\/\/localhost:5173\n2 < content-type: application\/json; charset=utf-8\n2 < content-length: 62\n2 < Date: Sun, 06 Apr 2025 15:03:00 GMT\n2 < Connection: keep-alive\n2 < Keep-Alive: timeout=72\n{\"message\":\"API e7b2f6a4-9ef4-42d1-ab84-e264f9a3c348 deleted\"}\n\n"},{"result":{"nanos":31900,"startTime":1743951780730,"endTime":1743951780730,"millis":0.0319,"status":"passed"},"step":{"line":121,"prefix":"Then","index":7,"text":"status 200"}},{"result":{"nanos":27328300,"startTime":1743951780730,"endTime":1743951780757,"millis":27.3283,"status":"passed"},"step":{"line":122,"prefix":"And","index":8,"text":"match response.message == 'API ' + apiId + ' deleted'"}},{"result":{"nanos":1495200,"startTime":1743951780757,"endTime":1743951780758,"millis":1.4952,"status":"passed"},"step":{"line":123,"prefix":"Given","index":9,"text":"path 'apis', apiId"}},{"result":{"nanos":21091000,"startTime":1743951780759,"endTime":1743951780780,"millis":21.091,"status":"passed"},"step":{"line":124,"prefix":"When","index":10,"text":"method GET"},"stepLog":"10:03:00.765 request:\n3 > GET http:\/\/localhost:3000\/apis\/e7b2f6a4-9ef4-42d1-ab84-e264f9a3c348\n3 > Host: localhost:3000\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.2)\n3 > Accept-Encoding: gzip,deflate\n\n\n10:03:00.779 response time in milliseconds: 12\n3 < 200\n3 < access-control-allow-origin: http:\/\/localhost:5173\n3 < content-type: application\/json; charset=utf-8\n3 < content-length: 25\n3 < Date: Sun, 06 Apr 2025 15:03:00 GMT\n3 < Connection: keep-alive\n3 < Keep-Alive: timeout=72\n{\"error\":\"API not found\"}\n\n"},{"result":{"nanos":31400,"startTime":1743951780781,"endTime":1743951780781,"millis":0.0314,"status":"passed"},"step":{"line":125,"prefix":"Then","index":11,"text":"status 200  # Tu servidor devuelve 200 con error cuando no encuentra el recurso"}},{"result":{"nanos":2483000,"startTime":1743951780781,"endTime":1743951780783,"millis":2.483,"status":"passed"},"step":{"line":126,"prefix":"And","index":12,"text":"match response.error == 'API not found'"}}],"executorName":"main","line":113,"name":"Eliminar una API existente","description":"","durationMillis":175.5787,"startTime":1743951780605,"failed":false,"refId":"[9:113]","endTime":1743951780784,"exampleIndex":-1},{"sectionIndex":9,"stepResults":[{"result":{"nanos":336700,"startTime":1743951780891,"endTime":1743951780891,"millis":0.3367,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:3000'"}},{"result":{"nanos":188000,"startTime":1743951780891,"endTime":1743951780891,"millis":0.188,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":1637900,"startTime":1743951780892,"endTime":1743951780894,"millis":1.6379,"status":"passed"},"step":{"comments":["# Mantenemos el Content-Type que causa el 400"],"line":130,"prefix":"*","index":0,"text":"configure headers = { 'Content-Type': 'application\/json' }"}},{"result":{"nanos":781900,"startTime":1743951780894,"endTime":1743951780895,"millis":0.7819,"status":"passed"},"step":{"line":131,"prefix":"Given","index":1,"text":"path 'apis', '00000000-0000-0000-0000-000000000000'"}},{"result":{"nanos":51529100,"startTime":1743951780895,"endTime":1743951780947,"millis":51.5291,"status":"passed"},"step":{"line":132,"prefix":"When","index":2,"text":"method DELETE"},"stepLog":"10:03:00.919 request:\n1 > DELETE http:\/\/localhost:3000\/apis\/00000000-0000-0000-0000-000000000000\n1 > Content-Type: application\/json\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.2)\n1 > Accept-Encoding: gzip,deflate\n\n\n10:03:00.944 response time in milliseconds: 11\n1 < 400\n1 < access-control-allow-origin: http:\/\/localhost:5173\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 157\n1 < Date: Sun, 06 Apr 2025 15:03:00 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=72\n{\"statusCode\":400,\"code\":\"FST_ERR_CTP_EMPTY_JSON_BODY\",\"error\":\"Bad Request\",\"message\":\"Body cannot be empty when content-type is set to 'application\/json'\"}\n\n"},{"result":{"nanos":30900,"startTime":1743951780946,"endTime":1743951780946,"millis":0.0309,"status":"passed"},"step":{"line":133,"prefix":"Then","index":3,"text":"status 400  # Fastify valida el Content-Type y rechaza la solicitud"}},{"result":{"nanos":3286300,"startTime":1743951780946,"endTime":1743951780949,"millis":3.2863,"status":"passed"},"step":{"line":134,"prefix":"And","index":4,"text":"match response.error == 'Bad Request'"}},{"result":{"nanos":9572700,"startTime":1743951780952,"endTime":1743951780962,"millis":9.5727,"status":"passed"},"step":{"line":135,"prefix":"And","index":5,"text":"match response.message == 'Body cannot be empty when content-type is set to \\'application\/json\\''"}}],"executorName":"main","line":128,"name":"Eliminar una API inexistente con Content-Type incorrecto","description":"","durationMillis":67.3635,"startTime":1743951780891,"failed":false,"refId":"[10:128]","endTime":1743951780961,"exampleIndex":-1}],"callDepth":0,"name":"Pruebas CRUD y casos de borde para la API REST de gestión de APIs","description":"","resultDate":"2025-04-06 10:03:00 a.m.","durationMillis":3683.4182,"passedCount":10}